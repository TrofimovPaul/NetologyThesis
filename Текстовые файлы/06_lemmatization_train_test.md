# Лемматизация текстов

Лемматизация текстов реализована с использованием библиотек PyMystem3, NLTK. Проблемы со скоростью работы библиотеки
PyMystem3 были решены объединением текстов в группы по 1000 записей через разделитель и дальнейшей разгруппировкой.
Время затраченное на лемматизацию: ~ 9,5 минут.

## Результаты лемматизации

ИСХОДНЫЙ ТЕКСТ: Бывший госсекретарь США Хиллари Клинтон завела аккаунт в Twitter. Первый твит Клинтон опубликовала
вечером 10 июня по московскому времени. В своей первой и пока единственной записи она поблагодарила создателей блога
Texts From Hillary (SMS от Хиллари) «за вдохновение». На момент написания заметки на микроблог бывшего госсекретаря США
подписалось более 320 тысяч пользователей. Среди пяти аккаунтов, на которые подписана сама Хиллари Клинтон — ее дочь
Челси и муж Билл. 42 президент США зарегистрировался в Twitter в апреле 2013 года. Его появлению в сервисе микроблогов
также предшествовала шутка. В начале апреля ведущий юмористической передачи «The Colbert Report» Стивен Кольбер (Stephen
Colbert) завел пародийный аккаунт @prezbillyjeff, которым предложил воспользоваться самому Биллу Клинтону. Блог Texts
From Hillary, который упомянула Клинтон, был создан интернет-деятелями Адамом Смитом (Adam Smith) и Стейси Ламбе (Stacy
Lambe). В нем размещались комиксы, в которых обыгрывалась фотография экс-госсекретаря, сидящей в самолете и читающей
текст с экрана телефона. Создатели блога представляли, с кем и о чем могла переписываться Клинтон. Проект был запущен в
апреле 2012 года и просуществовал всего неделю. Тем не менее, Хиллари Клинтон обратила на него внимание. Героиня
комиксов встретилась со Смитом и Ламбе и поблагодарила их за шутки.

ЛЕММАТИЗИРОВАННЫЙ ТЕКСТ: бывший госсекретарь сша хиллари клинтон заводить аккаунт twitter первый твит клинтон
опубликовывать вечер июнь московский время свой первый пока единственный запись поблагодарить создатель блог texts from
hillary sms хиллари вдохновение момент написание заметка микроблог бывший госсекретарь сша подписываться тысяча
пользователь среди пять аккаунт который подписывать хиллари клинтон дочь челси муж билл президент сша зарегистрироваться
twitter апрель год появление сервис микроблог также предшествовать шутка начало апрель ведущий юмористический передача
the colbert report стивен кольбер stephen colbert заводить пародийный аккаунт prezbillyjeff который предлагать
воспользоваться билл клинтон блог texts from hillary который упоминать клинтон создавать интернет деятель адам смит adam
smith стейси ламбе stacy lambe немой размещаться комикс который обыгрываться фотография экс госсекретарь сидеть самолет
читать текст экран телефон создатель блог представлять мочь переписываться клинтон проект запускать апрель год
просуществовать неделя менее хиллари клинтон обращать внимание героиня комикс встречаться смит ламбе поблагодарить шутка

Можно отметить, что из лемматизированного текста исключены числа, специальные символы (например: скобки, тире), предлоги
и т.п. 

# Разделение на обучающий и тестовый датасет


При разделении датасета на обучающий и тестовый был использован класс MultilabelStratifiedShuffleSplit из библиотеки
iterative-stratification, который обеспечивает пропорциональное представление каждой категории в обучающем и тестовом
датасете. В обучающую выборку перенесены 56711 публикаций, что составляет 80% данных, в тестовую выборку перенесены
14178 публикаций, соответствующие 20% данных.

```python
splitter = MultilabelStratifiedShuffleSplit(test_size=0.2, random_state=42)
train_index, test_index = next(splitter.split(X=df_text_tags_final, y=df_text_tags_final[list_col[2:]]))
df_text_tags_final.iloc[train_index][['text_lemma']+list_col[2:]].to_csv('news_train.csv', index=False)
df_text_tags_final.iloc[test_index][['text_lemma']+list_col[2:]].to_csv('news_test.csv', index=False)
```